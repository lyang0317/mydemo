var HOST="/szy";var AJAXURL={login:HOST+"/user/login",logout:HOST+"/user/logout",register:HOST+"/user/register",checkEmail:HOST+"/user/checkEmail",checkUsername:HOST+"/user/checkUsername",checkCard:HOST+"/user/checkCard",checkTel:HOST+"/user/checkTel",updatePwd:HOST+"/user/updatePwd",getUser:HOST+"/user/getUser",modifyInfo:HOST+"/user/modifyInfo",resendMail:HOST+"/user/resendMail",getUserInfo:HOST+"/getInfo/getUserInfo",getProv:HOST+"/address/getProv",getCity:HOST+"/address/getCity",getArea:HOST+"/address/getArea",getService:HOST+"/util/getService",toUsing:HOST+"/rds/toUsing",getAllOrder:HOST+"/rds/getUserOrders",refuseOrder:HOST+"/rds/cancel",getAndSP:HOST+"/rds/getOrderDetail",queryByState:HOST+"/oss/queryByState",cancelByid:HOST+"/oss/cancelByid",getDetailsByNum:HOST+"/oss/getDetailsByNum",ossToUsing:HOST+"/oss/toUsing"};
$(function(){getUserLoginInfo();getAllService();});function vfCode(a,c,b){this.img=a;this.chg=c;this.kind=b;this.init();}vfCode.prototype={init:function(){var e=document,b=this,a=e.getElementById(b.img),c=e.getElementById(b.chg);
if(a){a.src=HOST+"/captcha/get?captcha="+b.kind+"&_t="+new Date().getTime();a.setAttribute("data-kind",b.kind);}c.onclick=function(){if(a){a.src=HOST+"/captcha/get?captcha="+b.kind+"&_t="+new Date().getTime();
}};}};function PAGE(b,a,c,d){this.pageObj=typeof(b)=="string"?$("#"+b):b;this.currPage=a;this.totalPage=c;this.callback=d;this.init();}PAGE.prototype={init:function(){var a=this;
a.createPageHtml(a.currPage,a.totalPage);},createPageHtml:function(a,d){var e=this,c=[];c.push('<a data-num="prev" href="javascript:;"><上一页</a>');for(var b=1;
b<(d+1);b++){if(b==a){c.push('<a data-num="'+b+'" class="curr" href="javascript:;">'+b+"</a>");}else{c.push('<a data-num="'+b+'" href="javascript:;">'+b+"</a>");
}}c.push('<a data-num="next" href="javascript:;">下一页></a>');c.push('<span class="last">共<em>'+d+"</em>页</span>");e.pageObj.html(c.join(""));e.bindPageClick(a,d);
},bindPageClick:function(b,d){var f=this,e=f.pageObj.find("a"),a=e.length;if(a>0){for(var c=0;c<a;c++){e[c]._i=c;e[c].onclick=function(){var g=$(this).attr("data-num");
if(g==b){return false;}if(g=="prev"){if(b!=1){g=parseInt(b)-1;}else{return false;}}if(g=="next"){if(b!=d){g=parseInt(b)+1;}else{return false;}}if(f.callback){f.callback(g);
}};}}}};function getUserLoginInfo(){var c=$("#J_navUserLogin"),b=$("#J_navUserRegist"),a=$("#J_navUserline");if(c[0]){$.ajax({url:AJAXURL.getUserInfo,type:"POST",dataType:"JSON",success:function(e){if(e.state){var d=e.data.name;
$("#J_navUserName").html(d);}else{c.html('<a href="javascript:;" onclick="userLogin();return false;" title="登录">登录</a>');b.html('<a href="javascript:;" onclick="userRegist();return false;" title="注册">注册</a>');
a.removeClass("none");}},error:function(){c.html('<a href="javascript:;" onclick="userLogin();return false;" title="登录">登录</a>');b.html('<a href="javascript:;" onclick="userRegist();return false;" title="注册">注册</a>');
a.removeClass("none");}});}}function userLogin(){return location.href="login";}function userRegist(){return location.href="regist";}function exitLogin(){ALERT.init({info:"确定退出吗？",callback:function(){$.ajax({url:AJAXURL.logout,type:"POST",dataType:"JSON",success:function(a){if(a.state){location.href="login";
}else{alert("数据异常,请稍后在试！");}},error:function(){alert("链接异常,请稍后在试！");}});}});}var RE={NULL:/^\S+$/,EMAIL:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,PHONE:/^1\d{10}$/};
var ALERT={init:function(a){if(a){this.appendHTML(a);}},appendHTML:function(d){var b=[],c=this;b.push("<!--对话框 S-->");b.push('<div class="modal fade" id="alertModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">');
b.push('<div class="modal-dialog modal-sm">');b.push('<div class="modal-content">');b.push('<div class="modal-header">');b.push('<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>');
b.push('<h4 class="modal-title" id="myModalLabel">提示</h4>');b.push("</div>");b.push('<div class="modal-body">');b.push(d.info);b.push("</div>");b.push('<div class="modal-footer">');
b.push('<button type="button" class="btn btn-primary" id="J_alertBtn">确定</button>');b.push('<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>');
b.push("</div>");b.push("</div>");b.push("</div>");b.push("</div>");b.push("<!--对话框 E-->");$("body").append(b.join(""));var a=$("#alertModal");if(a){a.modal("show");
}$("#J_alertBtn").on("click",function(){if(d.callback){d.callback();}else{a.modal("hide");}});if(d.closeback){a.on("hidden.bs.modal",function(){d.closeback();
});}a.on("hidden.bs.modal",function(){a.remove();});}};function checkStrong(b){var a=0;if(/\d/.test(b)){a++;}if(/[a-z]/.test(b)){a++;}if(/[A-Z]/.test(b)){a++;
}return a;}function getAllService(){var a=$("#J_szyMenu");if(a[0]){$.ajax({url:AJAXURL.getService,type:"POST",dataType:"JSON",success:function(n){if(n.state){var g=n.data,l=g.length,k=[];
if(SZYMENUID.typeid==-1){k.push('<dl class="curr">');}else{k.push("<dl>");}k.push('<dt class="clearfix">');k.push('<i class="big-icon pull-left"></i>');
k.push('<div class="big-name pull-left"><a href="all">所有产品</a></div>');k.push("</dt>");k.push("<dd></dd>");k.push("</dl>");for(var h=0;h<l;h++){var d=g[h],m=d.list,c=m.length,f="";
if(SZYMENUID.typeid==d.typeid){f+="curr";}if(h==l-1){f+=" last";}k.push('<dl class="'+f+'">');k.push('<dt class="clearfix">');k.push('<i class="big-icon pull-left"></i>');
k.push('<div class="big-name pull-left">'+d.typename+"</div>");k.push("</dt>");k.push("<dd>");k.push("<ul>");for(var e=0;e<c;e++){var b=m[e],o="list clearfix";
if(b.serviceid==SZYMENUID.serviceid){o+=" curr";}if(h==l-1&&e==c-1){o+=" last";}k.push('<li class="'+o+'">');k.push('<i class="small-icon pull-left"></i>');
k.push('<div class="small-left pull-left">');k.push('<div class="small-name"><a href="'+b.indexurl+'">'+b.servicename+"</a></div>");k.push('<div class="small-des">'+b.servicedesc+"</div>");
k.push("</div>");k.push("</li>");}k.push("</ul>");k.push("</dd>");k.push("</dl>");}$("#J_szyMenu").html(k.join(""));}else{}},error:function(){}});}}function getPayStateName(b){var a="";
if(b==0){a="未付款";}else{if(b==1){a="已付款";}}return a;}function getOrderType(b){var a="";if(b==0){a="新开服务";}else{if(b==1){a="续费升级";}}return a;}function getOrderCheckState(b){var a="";
switch(b){case 0:a="未审核";break;case 1:a="已拒绝";break;case 2:a="已通过";break;}return a;}function getSpaceState(b){var a="";switch(b){case 0:a="已启用";break;case 1:a="已过期";
break;case 2:a="已关闭";break;}return a;}function getSearchAsArray(d){var c=new Array();var a=d.substr(1);if(a){var e=a.split("&");var f=new Array();for(var b=0;
b<e.length;b++){f=e[b].split("=");if(f.length>2){c[f[0]]=f[1]+"="+f[2];}else{c[f[0]]=f[1];}}}return c;}